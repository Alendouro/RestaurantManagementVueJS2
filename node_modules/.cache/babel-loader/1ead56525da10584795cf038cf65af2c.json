{"remainingRequest":"/home/alendouro/WebDevelopment/RestaurantManagementVueJS2/node_modules/babel-loader/lib/index.js!/home/alendouro/WebDevelopment/RestaurantManagementVueJS2/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/alendouro/WebDevelopment/RestaurantManagementVueJS2/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/alendouro/WebDevelopment/RestaurantManagementVueJS2/src/pages/UserProfile/EditProfileForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/alendouro/WebDevelopment/RestaurantManagementVueJS2/src/pages/UserProfile/EditProfileForm.vue","mtime":1546531113967},{"path":"/home/alendouro/WebDevelopment/RestaurantManagementVueJS2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/alendouro/WebDevelopment/RestaurantManagementVueJS2/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/alendouro/WebDevelopment/RestaurantManagementVueJS2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/alendouro/WebDevelopment/RestaurantManagementVueJS2/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: \"edit-profile-form\",\n  props: {\n    dataBackgroundColor: {\n      type: String,\n      default: \"\"\n    }\n  },\n  data: function data() {\n    return {\n      user: [],\n      file: ''\n    };\n  },\n  methods: {\n    update: function update() {\n      var _this = this;\n\n      this.axios.defaults.headers.common.Authorization = \"Bearer \" + this.$store.state.token;\n      this.axios.put(\"/api/users/\" + this.user.id, this.user).then(function (response) {\n        console.log(response);\n\n        _this.$store.commit('setUser', _this.user);\n      }).catch(function (error) {\n        console.log(error);\n      });\n      var formData = new FormData();\n      formData.append('file', this.file);\n      this.axios.post(\"/api/user/image/\" + this.user.id, formData, {\n        hearders: {\n          'Content-Type': 'multipart/form-data'\n        }\n      }).then(function (response) {\n        console.log('SUCCESS!!');\n        console.log(response.data);\n        _this.user.photo_url = response.data.photo;\n\n        _this.$store.commit('setUser', _this.user);\n      }).catch(function () {\n        console.log('FAILURE!!');\n      });\n    },\n    handleFileUpload: function handleFileUpload() {\n      this.file = this.$refs.file.files[0];\n    }\n  },\n  created: function created() {\n    this.user = this.$store.state.user;\n  }\n};",{"version":3,"sources":["EditProfileForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA,eAAA;AACA,QAAA,mBADA;AAEA,SAAA;AACA,yBAAA;AACA,YAAA,MADA;AAEA,eAAA;AAFA;AADA,GAFA;AAQA,MARA,kBAQA;AACA,WAAA;AACA,YAAA,EADA;AAEA,YAAA;AAFA,KAAA;AAIA,GAbA;AAcA,WAAA;AACA,UADA,oBACA;AAAA;;AACA,WAAA,KAAA,CAAA,QAAA,CAAA,OAAA,CAAA,MAAA,CAAA,aAAA,GAAA,YAAA,KAAA,MAAA,CAAA,KAAA,CAAA,KAAA;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,gBAAA,KAAA,IAAA,CAAA,EAAA,EAAA,KAAA,IAAA,EACA,IADA,CACA,oBAAA;AACA,gBAAA,GAAA,CAAA,QAAA;;AACA,cAAA,MAAA,CAAA,MAAA,CAAA,SAAA,EAAA,MAAA,IAAA;AACA,OAJA,EAKA,KALA,CAKA,iBAAA;AACA,gBAAA,GAAA,CAAA,KAAA;AACA,OAPA;AASA,UAAA,WAAA,IAAA,QAAA,EAAA;AAEA,eAAA,MAAA,CAAA,MAAA,EAAA,KAAA,IAAA;AAEA,WAAA,KAAA,CAAA,IAAA,CAAA,qBAAA,KAAA,IAAA,CAAA,EAAA,EACA,QADA,EAEA;AACA,kBAAA;AACA,0BAAA;AADA;AADA,OAFA,EAOA,IAPA,CAOA,oBAAA;AACA,gBAAA,GAAA,CAAA,WAAA;AACA,gBAAA,GAAA,CAAA,SAAA,IAAA;AACA,cAAA,IAAA,CAAA,SAAA,GAAA,SAAA,IAAA,CAAA,KAAA;;AACA,cAAA,MAAA,CAAA,MAAA,CAAA,SAAA,EAAA,MAAA,IAAA;AACA,OAZA,EAaA,KAbA,CAaA,YAAA;AACA,gBAAA,GAAA,CAAA,WAAA;AACA,OAfA;AAgBA,KAhCA;AAiCA,oBAjCA,8BAiCA;AACA,WAAA,IAAA,GAAA,KAAA,KAAA,CAAA,IAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA;AAnCA,GAdA;AAmDA,SAnDA,qBAmDA;AACA,SAAA,IAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA;AACA;AArDA,CAAA","sourcesContent":["<template>\n  <form>\n    <md-card>\n      <md-card-header :data-background-color=\"dataBackgroundColor\">\n        <h4 class=\"title\">Edit Profile</h4>\n        <p class=\"category\">Complete your profile</p>\n      </md-card-header>\n\n      <md-card-content>\n        <div class=\"md-layout\">\n          <div class=\"md-layout-item md-small-size-100 md-size-33\">\n            <md-field>\n              <label>Username</label>\n              <md-input v-model=\"user.username\" type=\"text\"></md-input>\n            </md-field>\n          </div>\n          <div class=\"md-layout-item md-small-size-100 md-size-33\">\n            <md-field>\n              <label>Name</label>\n              <md-input v-model=\"user.name\" type=\"text\"></md-input>\n            </md-field>\n          </div>\n          <div class=\"md-layout-item md-small-size-100 md-size-33\">\n            <md-field>\n              <label>Email</label>\n              <md-input v-model=\"user.email\" type=\"email\" disabled></md-input>\n            </md-field>\n          </div>\n          <div class=\"md-layout-item md-small-size-100 md-size-33\">\n            <md-field>\n              <input type=\"file\" id=\"file\" ref=\"file\" accept=\"image/*\" v-on:change=\"handleFileUpload()\">\n            </md-field>\n          </div>\n          <div class=\"md-layout-item md-size-100 text-right\">\n            <md-button class=\"md-raised md-success\" @click=\"update\">Update Profile</md-button>\n          </div>\n        </div>\n\n      </md-card-content>\n    </md-card>\n  </form>\n</template>\n<script>\nexport default {\n  name: \"edit-profile-form\",\n  props: {\n    dataBackgroundColor: {\n      type: String,\n      default: \"\"\n    }\n  },\n  data() {\n    return {\n      user: [],\n      file: '',\n    };\n  },\n  methods: {\n    update (){\n       this.axios.defaults.headers.common.Authorization = \"Bearer \" + this.$store.state.token;\n       this.axios.put(\"/api/users/\"+this.user.id, this.user)\n        .then(response =>{\n          console.log(response);\n          this.$store.commit('setUser', this.user);\n        })\n        .catch(error => {\n          console.log(error);\n        });\n\n        let formData = new FormData();\n\n        formData.append('file', this.file);\n\n        this.axios.post(\"/api/user/image/\"+this.user.id,\n          formData,\n          {\n            hearders: {\n              'Content-Type' : 'multipart/form-data'\n            }\n          }\n        ).then(response =>{\n          console.log('SUCCESS!!');\n          console.log(response.data);\n          this.user.photo_url = response.data.photo;\n          this.$store.commit('setUser', this.user);\n        })\n        .catch(function(){\n          console.log('FAILURE!!');\n        });\n    },\n    handleFileUpload(){\n      this.file = this.$refs.file.files[0];\n    }\n  },\n  created() {\n    this.user = this.$store.state.user;\n  },\n};\n</script>\n<style>\n</style>\n"],"sourceRoot":"src/pages/UserProfile"}]}