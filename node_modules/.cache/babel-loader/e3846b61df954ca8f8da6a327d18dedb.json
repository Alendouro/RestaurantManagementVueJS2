{"remainingRequest":"/home/alendouro/WebDevelopment/RestaurantManagementVueJS2/node_modules/babel-loader/lib/index.js!/home/alendouro/WebDevelopment/RestaurantManagementVueJS2/node_modules/eslint-loader/index.js??ref--13-0!/home/alendouro/WebDevelopment/RestaurantManagementVueJS2/src/packages/api/Invoice.js","dependencies":[{"path":"/home/alendouro/WebDevelopment/RestaurantManagementVueJS2/src/packages/api/Invoice.js","mtime":1546762763036},{"path":"/home/alendouro/WebDevelopment/RestaurantManagementVueJS2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/alendouro/WebDevelopment/RestaurantManagementVueJS2/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/alendouro/WebDevelopment/RestaurantManagementVueJS2/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport axios from 'axios';\nimport toastr from \"toastr\";\nimport URLFormatter from \"../url/URLFormatter\";\nexport default {\n  getInvoices: function getInvoices(filters, paginate, meal, waiter, page, date, waiterID) {\n    // If it has filter we need to construct the parameters\n    var states = \"\";\n    filters.forEach(function (e, i) {\n      if (i === 0) {\n        // If it is the first parameter then we need to insert '?'\n        states += \"?states[]=\" + e;\n      } else {\n        // otherwise just insert the & symbol\n        states += \"&states[]=\" + e;\n      }\n    });\n    return axios({\n      method: \"GET\",\n      url: \"api/invoice\" + this.constructParameters(states, paginate, meal, waiter, page, date, waiterID)\n    }).catch(function (error) {\n      if (error) {\n        toastr.error(\"There was an internal error\");\n        return false;\n      }\n    });\n  },\n  getPending: function getPending(withMeal) {\n    return axios({\n      method: \"GET\",\n      url: \"api/invoice/pending\" + (withMeal ? \"?meal=1\" : \"\")\n    }).catch(function (error) {\n      if (error) {\n        toastr.error(\"There was an internal error\");\n        return false;\n      }\n    });\n  },\n  getPaid: function getPaid(paginate, pageNumber) {\n    return axios({\n      method: \"GET\",\n      url: \"api/invoice/paid?\" + (paginate ? \"paginate=1\" : \"\") + (pageNumber !== null ? \"&page=\" + pageNumber : \"\")\n    }).catch(function (error) {\n      if (error) {\n        toastr.error(\"There was an internal error\");\n        return false;\n      }\n    });\n  },\n  getDownloadPDF: function getDownloadPDF(invoiceID) {\n    return axios({\n      method: \"GET\",\n      url: \"api/invoice/download/\" + invoiceID,\n      // Necessary to treat the PDF as an array buffer\n      responseType: \"arraybuffer\"\n    }).catch(function (error) {\n      if (error) {\n        toastr.error(\"There was an internal error\");\n        return false;\n      }\n    });\n  },\n  updateInvoice: function updateInvoice(data, invoiceID) {\n    return axios({\n      method: \"PUT\",\n      url: \"api/invoice/\" + invoiceID,\n      data: data\n    }).catch(function (error) {\n      if (error) {\n        toastr.error(\"There was an internal error\");\n        return false;\n      }\n    });\n  },\n  putDeclareInvoiceNotPaid: function putDeclareInvoiceNotPaid(invoice) {\n    return axios({\n      method: \"PUT\",\n      url: \"api/invoice/pending/\" + invoice.id\n    }).catch(function (error) {\n      if (error) {\n        toastr.error(\"There was an internal error\");\n        return false;\n      }\n    });\n  },\n  // ----------- AUXILIARY METHODS\n  constructParameters: function constructParameters(states, paginate, meal, waiter, page, date, waiterID) {\n    var parameters = [states, paginate, waiter, page, date];\n    return (states === \"\" ? \"\" : states) + (paginate ? URLFormatter.isFirstParameter(parameters) + \"paginate=1\" : \"\") + (waiter ? URLFormatter.isFirstParameter(parameters) + \"waiter=1\" : \"\") + (meal ? URLFormatter.isFirstParameter(parameters) + \"meal=1\" : \"\") + (page !== null ? URLFormatter.isFirstParameter(parameters) + \"page=\" + page : \"\") + (date !== null ? URLFormatter.isFirstParameter(parameters) + \"date=\" + date : \"\") + (waiterID !== null ? URLFormatter.isFirstParameter(parameters) + \"waiter_id=\" + waiterID : \"\");\n  }\n};",{"version":3,"sources":["/home/alendouro/WebDevelopment/RestaurantManagementVueJS2/src/packages/api/Invoice.js"],"names":["axios","toastr","URLFormatter","getInvoices","filters","paginate","meal","waiter","page","date","waiterID","states","forEach","e","i","method","url","constructParameters","catch","error","getPending","withMeal","getPaid","pageNumber","getDownloadPDF","invoiceID","responseType","updateInvoice","data","putDeclareInvoiceNotPaid","invoice","id","parameters","isFirstParameter"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport toastr from \"toastr\";\nimport URLFormatter from \"../url/URLFormatter\";\n\nexport default{\n  getInvoices(filters, paginate, meal, waiter, page, date, waiterID){\n    // If it has filter we need to construct the parameters\n    let states = \"\";\n    filters.forEach((e, i) => {\n      if (i === 0) {\n        // If it is the first parameter then we need to insert '?'\n        states += \"?states[]=\" + e;\n      } else {\n        // otherwise just insert the & symbol\n        states += \"&states[]=\" + e;\n      }\n    });\n\n    return axios({\n      method: \"GET\",\n      url: \"api/invoice\" + this.constructParameters(states, paginate, meal, waiter, page, date, waiterID)\n    }).catch(error => {\n      if (error) {\n        toastr.error(\"There was an internal error\");\n        return false;\n      }\n    });\n  },\n  getPending(withMeal){\n    return axios({\n      method: \"GET\",\n      url: \"api/invoice/pending\" + (withMeal ? \"?meal=1\" : \"\")\n    }).catch(error => {\n      if (error) {\n        toastr.error(\"There was an internal error\");\n        return false;\n      }\n    });\n  },\n  getPaid(paginate, pageNumber){\n    return axios({\n      method: \"GET\",\n      url: \"api/invoice/paid?\" + (paginate ? \"paginate=1\" : \"\") + (pageNumber !== null ? \"&page=\" + pageNumber : \"\")\n    }).catch(error => {\n      if (error) {\n        toastr.error(\"There was an internal error\");\n        return false;\n      }\n    });\n  },\n  getDownloadPDF(invoiceID){\n    return axios({\n      method: \"GET\",\n      url: \"api/invoice/download/\" + invoiceID,\n      // Necessary to treat the PDF as an array buffer\n      responseType: \"arraybuffer\"\n    }).catch(error => {\n      if (error) {\n        toastr.error(\"There was an internal error\");\n        return false;\n      }\n    });\n  },\n  updateInvoice(data, invoiceID) {\n    return axios({\n      method: \"PUT\",\n      url: \"api/invoice/\" + invoiceID,\n      data: data\n    }).catch(error => {\n      if (error) {\n        toastr.error(\"There was an internal error\");\n        return false;\n      }\n    });\n  },\n  putDeclareInvoiceNotPaid(invoice){\n    return axios({\n      method: \"PUT\",\n      url: \"api/invoice/pending/\" + invoice.id\n    }).catch(error => {\n      if (error) {\n        toastr.error(\"There was an internal error\");\n        return false;\n      }\n    });\n  },\n  // ----------- AUXILIARY METHODS\n  constructParameters(states, paginate, meal, waiter, page, date, waiterID) {\n    let parameters = [\n      states,\n      paginate,\n      waiter,\n      page,\n      date\n    ];\n\n\n\n    return (states === \"\" ? \"\" : states) +\n      (paginate ? URLFormatter.isFirstParameter(parameters) + \"paginate=1\" : \"\") +\n      (waiter ? URLFormatter.isFirstParameter(parameters) + \"waiter=1\" : \"\") +\n      (meal ? URLFormatter.isFirstParameter(parameters) + \"meal=1\" : \"\") +\n      (page !== null ? URLFormatter.isFirstParameter(parameters) + \"page=\" + page : \"\") +\n      (date !== null ? URLFormatter.isFirstParameter(parameters) + \"date=\" + date : \"\") +\n      (waiterID !== null ? URLFormatter.isFirstParameter(parameters) + \"waiter_id=\" + waiterID : \"\");\n  }\n}"]}]}