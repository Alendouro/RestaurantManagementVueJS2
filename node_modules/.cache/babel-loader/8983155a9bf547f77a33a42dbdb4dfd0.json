{"remainingRequest":"/home/alendouro/WebDevelopment/RestaurantManagementVueJS2/node_modules/babel-loader/lib/index.js!/home/alendouro/WebDevelopment/RestaurantManagementVueJS2/node_modules/eslint-loader/index.js??ref--13-0!/home/alendouro/WebDevelopment/RestaurantManagementVueJS2/src/packages/api/Meals.js","dependencies":[{"path":"/home/alendouro/WebDevelopment/RestaurantManagementVueJS2/src/packages/api/Meals.js","mtime":1546433593311},{"path":"/home/alendouro/WebDevelopment/RestaurantManagementVueJS2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/alendouro/WebDevelopment/RestaurantManagementVueJS2/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/alendouro/WebDevelopment/RestaurantManagementVueJS2/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport axios from 'axios';\nimport toastr from 'toastr';\nimport URLFormatter from '../url/URLFormatter.js';\nexport default {\n  getActiveMeals: function getActiveMeals() {\n    return axios({\n      method: \"GET\",\n      url: \"/api/meals/active\"\n    }).catch(function (error) {\n      if (error) {\n        toastr.error(\"There was an internal error\");\n        return false;\n      }\n    });\n  },\n  getMyActiveMeals: function getMyActiveMeals() {\n    return axios({\n      method: \"GET\",\n      url: \"/api/meals/active/my\"\n    }).catch(function (error) {\n      if (error) {\n        toastr.error(\"There was an internal error\");\n        return false;\n      }\n    });\n  },\n  getOrders: function getOrders(filters, mealID) {\n    // If it has filter we need to construct the parameters\n    var parameters = \"\";\n    filters.forEach(function (e, i) {\n      if (i === 0) {\n        // If it is the first parameter then we need to insert '?'\n        parameters += \"?filters[]=\" + e;\n      } else {\n        // otherwise just insert the & symbol\n        parameters += \"&filters[]=\" + e;\n      }\n    });\n    return axios({\n      method: \"GET\",\n      url: \"/api/meals/orders/\" + mealID + (parameters === '' ? '' : '/' + parameters)\n    }).catch(function (error) {\n      if (error) {\n        toastr.error(\"There was an internal error\");\n        return false;\n      }\n    });\n  },\n  getTerminated: function getTerminated() {\n    return axios({\n      method: \"GET\",\n      url: \"api/meals/terminated\"\n    }).catch(function (error) {\n      if (error) {\n        toastr.error(\"There was an internal error\");\n        return false;\n      }\n    });\n  },\n  getMeals: function getMeals(filters, paginate, waiter, pageNumber, waiterID, date) {\n    // If it has filter we need to construct the parameters\n    var states = \"\";\n    filters.forEach(function (e, i) {\n      if (i === 0) {\n        // If it is the first parameter then we need to insert '?'\n        states += \"?state[]=\" + e;\n      } else {\n        // otherwise just insert the & symbol\n        states += \"&state[]=\" + e;\n      }\n    });\n    return axios({\n      method: \"GET\",\n      url: \"/api/meals/\" + this.constructParameters(states, paginate, waiter, pageNumber, waiterID, date)\n    }).catch(function (error) {\n      if (error) {\n        toastr.error(\"There was an internal error\");\n        return false;\n      }\n    });\n  },\n  postCloseMeal: function postCloseMeal(filters, mealID) {\n    // If it has filter we need to construct the parameters\n    var parameters = \"\";\n    filters.forEach(function (e, i) {\n      if (i === 0) {\n        // If it is the first parameter then we need to insert '?'\n        parameters += \"?\" + e;\n      } else {\n        // otherwise just insert the & symbol\n        parameters += \"&\" + e;\n      }\n    });\n    return axios({\n      method: \"POST\",\n      url: \"api/meals/close\" + (parameters === \"\" ? \"\" : \"\" + parameters),\n      data: {\n        meal_id: mealID\n      }\n    }).catch(function (error) {\n      if (error) {\n        toastr.error(\"There was an internal error\");\n        return false;\n      }\n    });\n  },\n  postNewMeal: function postNewMeal(tableID) {\n    return axios({\n      method: \"POST\",\n      url: \"/api/meals\",\n      data: {\n        table_number: tableID\n      }\n    }).catch(function (error) {\n      if (error) {\n        toastr.error(\"There was an internal error\");\n        return false;\n      }\n    });\n  },\n  putMealNotPaid: function putMealNotPaid(meal) {\n    return axios({\n      method: \"PUT\",\n      url: \"/api/meals/terminated/\" + meal.id\n    }).then(function (response) {\n      return response;\n    }).catch(function (error) {\n      if (error) {\n        toastr.error(\"There was an internal error\");\n        return false;\n      }\n    });\n  },\n  // ----------- AUXILIARY METHODS\n  constructParameters: function constructParameters(states, paginate, waiter, pageNumber, waiterID, date) {\n    var parameters = [states, paginate, waiter, pageNumber, waiterID, date];\n    return (states === \"\" ? \"\" : states) + (paginate ? URLFormatter.isFirstParameter(parameters) + \"paginate=1\" : \"\") + (waiter ? URLFormatter.isFirstParameter(parameters) + \"waiter=1\" : \"\") + (pageNumber === null ? \"\" : URLFormatter.isFirstParameter(parameters) + \"page=\" + pageNumber) + (waiterID === null ? \"\" : URLFormatter.isFirstParameter(parameters) + \"waiterID=\" + waiterID) + (date === null ? \"\" : URLFormatter.isFirstParameter(parameters) + \"date=\" + date);\n  }\n};",{"version":3,"sources":["/home/alendouro/WebDevelopment/RestaurantManagementVueJS2/src/packages/api/Meals.js"],"names":["axios","toastr","URLFormatter","getActiveMeals","method","url","catch","error","getMyActiveMeals","getOrders","filters","mealID","parameters","forEach","e","i","getTerminated","getMeals","paginate","waiter","pageNumber","waiterID","date","states","constructParameters","postCloseMeal","data","meal_id","postNewMeal","tableID","table_number","putMealNotPaid","meal","id","then","response","isFirstParameter"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport toastr from 'toastr';\nimport URLFormatter from '../url/URLFormatter.js';\n\nexport default{\n  getActiveMeals() {\n    return axios({\n      method: \"GET\",\n      url: \"/api/meals/active\"\n    }).catch(error => {\n      if (error) {\n        toastr.error(\"There was an internal error\");\n        return false;\n      }\n    });\n  },\n  getMyActiveMeals() {\n    return axios({\n      method: \"GET\",\n      url: \"/api/meals/active/my\"\n    }).catch(error => {\n      if (error) {\n        toastr.error(\"There was an internal error\");\n        return false;\n      }\n    });\n  },\n  getOrders(filters, mealID) {\n    // If it has filter we need to construct the parameters\n    let parameters = \"\";\n    filters.forEach((e, i) => {\n      if (i === 0) {\n        // If it is the first parameter then we need to insert '?'\n        parameters += \"?filters[]=\" + e;\n      } else {\n        // otherwise just insert the & symbol\n        parameters += \"&filters[]=\" + e;\n      }\n    });\n\n    return axios({\n      method: \"GET\",\n      url: \"/api/meals/orders/\" + mealID + (parameters === '' ? '' : '/' + parameters),\n    }).catch(error => {\n      if (error) {\n        toastr.error(\"There was an internal error\");\n        return false;\n      }\n    });\n  },\n  getTerminated(){\n    return axios({\n      method: \"GET\",\n      url: \"api/meals/terminated\"\n    }).catch(error => {\n      if (error) {\n        toastr.error(\"There was an internal error\");\n        return false;\n      }\n    });\n  },\n  getMeals(filters, paginate, waiter, pageNumber, waiterID, date) {\n    // If it has filter we need to construct the parameters\n    let states = \"\";\n    filters.forEach((e, i) => {\n      if (i === 0) {\n        // If it is the first parameter then we need to insert '?'\n        states += \"?state[]=\" + e;\n      } else {\n        // otherwise just insert the & symbol\n        states += \"&state[]=\" + e;\n      }\n    });\n    return axios({\n      method: \"GET\",\n      url: \"/api/meals/\" + this.constructParameters(states, paginate, waiter, pageNumber, waiterID, date)\n    }).catch(error => {\n      if (error) {\n        toastr.error(\"There was an internal error\");\n        return false;\n      }\n    });\n  },\n  postCloseMeal(filters, mealID){\n    // If it has filter we need to construct the parameters\n    let parameters = \"\";\n    filters.forEach((e, i) => {\n      if (i === 0) {\n        // If it is the first parameter then we need to insert '?'\n        parameters += \"?\" + e;\n      } else {\n        // otherwise just insert the & symbol\n        parameters += \"&\" + e;\n      }\n    });\n\n    return axios({\n      method: \"POST\",\n      url: \"api/meals/close\" + (parameters === \"\" ? \"\" : \"\" + parameters),\n      data: {\n        meal_id: mealID\n      }\n    }).catch(error => {\n      if (error) {\n        toastr.error(\"There was an internal error\");\n        return false;\n      }\n    });\n  },\n  postNewMeal(tableID){\n    return axios({\n      method: \"POST\",\n      url: \"/api/meals\",\n      data: {\n        table_number: tableID\n      }\n    }).catch(error => {\n      if (error) {\n        toastr.error(\"There was an internal error\");\n        return false;\n      }\n    });\n  },\n  putMealNotPaid(meal){\n    return axios({\n      method: \"PUT\",\n      url: \"/api/meals/terminated/\" + meal.id\n    })\n      .then(response => {\n        return response;\n      })\n      .catch(error => {\n        if (error) {\n          toastr.error(\"There was an internal error\");\n          return false;\n        }\n      });\n  },\n  // ----------- AUXILIARY METHODS\n  constructParameters(states, paginate, waiter, pageNumber, waiterID, date) {\n    let parameters = [\n      states,\n      paginate,\n      waiter,\n      pageNumber,\n      waiterID,\n      date\n    ];\n\n\n\n    return (states === \"\" ? \"\" : states) +\n      (paginate ? URLFormatter.isFirstParameter(parameters) + \"paginate=1\" : \"\") +\n      (waiter ? URLFormatter.isFirstParameter(parameters) + \"waiter=1\" : \"\") +\n      (pageNumber === null ? \"\" : (URLFormatter.isFirstParameter(parameters) + \"page=\" + pageNumber)) +\n      (waiterID === null ? \"\" : URLFormatter.isFirstParameter(parameters) + \"waiterID=\" + waiterID) +\n      (date === null ? \"\" : URLFormatter.isFirstParameter(parameters) + \"date=\" + date);\n  }\n}"]}]}