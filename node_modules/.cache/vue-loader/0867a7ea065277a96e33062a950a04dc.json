{"remainingRequest":"/home/alendouro/WebDevelopment/vue-material-dashboard-v1.0.3/vue-material-dashboard-v1.0.3/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/alendouro/WebDevelopment/vue-material-dashboard-v1.0.3/vue-material-dashboard-v1.0.3/src/pages/UserProfile/EditProfileForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/alendouro/WebDevelopment/vue-material-dashboard-v1.0.3/vue-material-dashboard-v1.0.3/src/pages/UserProfile/EditProfileForm.vue","mtime":1544117666817},{"path":"/home/alendouro/WebDevelopment/vue-material-dashboard-v1.0.3/vue-material-dashboard-v1.0.3/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/alendouro/WebDevelopment/vue-material-dashboard-v1.0.3/vue-material-dashboard-v1.0.3/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/alendouro/WebDevelopment/vue-material-dashboard-v1.0.3/vue-material-dashboard-v1.0.3/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/alendouro/WebDevelopment/vue-material-dashboard-v1.0.3/vue-material-dashboard-v1.0.3/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  name: \"edit-profile-form\",\n  props: {\n    dataBackgroundColor: {\n      type: String,\n      default: \"\"\n    }\n  },\n  data() {\n    return {\n      user: [],\n      file: '',\n    };\n  },\n  methods: {\n    update (){\n       this.axios.defaults.headers.common.Authorization = \"Bearer \" + this.$store.state.token;\n       this.axios.put(\"/api/users/\"+this.user.id, this.user)\n        .then(response =>{\n          console.log(response);\n          this.$store.commit('setUser', this.user);\n        })\n        .catch(error => {\n          console.log(error);\n        });\n\n        let formData = new FormData();\n\n        formData.append('file', this.file);\n\n        this.axios.post(\"/api/user/image/\"+this.user.id,\n          formData,\n          {\n            hearders: {\n              'Content-Type' : 'multipart/form-data'\n            }\n          }\n        ).then(response =>{\n          console.log('SUCCESS!!');\n          console.log(response.data);\n          this.user.photo_rl = response.data.data.photo;\n          this.$store.commit('setUser', this.user);\n        })\n        .catch(function(){\n          console.log('FAILURE!!');\n        });\n    },\n    handleFileUpload(){\n      this.file = this.$refs.file.files[0];\n    }\n  },\n  created() {\n    this.user = this.$store.state.user;\n  },\n};\n",{"version":3,"sources":["EditProfileForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EditProfileForm.vue","sourceRoot":"src/pages/UserProfile","sourcesContent":["<template>\n  <form>\n    <md-card>\n      <md-card-header :data-background-color=\"dataBackgroundColor\">\n        <h4 class=\"title\">Edit Profile</h4>\n        <p class=\"category\">Complete your profile</p>\n      </md-card-header>\n\n      <md-card-content>\n        <div class=\"md-layout\">\n          <div class=\"md-layout-item md-small-size-100 md-size-33\">\n            <md-field>\n              <md-input v-model=\"user.username\" type=\"text\"></md-input>\n            </md-field>\n          </div>\n          <div class=\"md-layout-item md-small-size-100 md-size-33\">\n            <md-field>\n              <md-input v-model=\"user.name\" type=\"text\"></md-input>\n            </md-field>\n          </div>\n          <div class=\"md-layout-item md-small-size-100 md-size-33\">\n            <md-field>\n              <md-input v-model=\"user.email\" type=\"email\" disabled></md-input>\n            </md-field>\n          </div>\n          <div class=\"md-layout-item md-small-size-100 md-size-33\">\n            <md-field>\n              <label>Photo</label>\n              <input type=\"file\" id=\"file\" ref=\"file\" v-on:change=\"handleFileUpload()\">\n            </md-field>\n          </div>\n          <div class=\"md-layout-item md-size-100 text-right\">\n            <md-button class=\"md-raised md-success\" @click=\"update\">Update Profile</md-button>\n          </div>\n        </div>\n\n      </md-card-content>\n    </md-card>\n  </form>\n</template>\n<script>\nexport default {\n  name: \"edit-profile-form\",\n  props: {\n    dataBackgroundColor: {\n      type: String,\n      default: \"\"\n    }\n  },\n  data() {\n    return {\n      user: [],\n      file: '',\n    };\n  },\n  methods: {\n    update (){\n       this.axios.defaults.headers.common.Authorization = \"Bearer \" + this.$store.state.token;\n       this.axios.put(\"/api/users/\"+this.user.id, this.user)\n        .then(response =>{\n          console.log(response);\n          this.$store.commit('setUser', this.user);\n        })\n        .catch(error => {\n          console.log(error);\n        });\n\n        let formData = new FormData();\n\n        formData.append('file', this.file);\n\n        this.axios.post(\"/api/user/image/\"+this.user.id,\n          formData,\n          {\n            hearders: {\n              'Content-Type' : 'multipart/form-data'\n            }\n          }\n        ).then(response =>{\n          console.log('SUCCESS!!');\n          console.log(response.data);\n          this.user.photo_rl = response.data.data.photo;\n          this.$store.commit('setUser', this.user);\n        })\n        .catch(function(){\n          console.log('FAILURE!!');\n        });\n    },\n    handleFileUpload(){\n      this.file = this.$refs.file.files[0];\n    }\n  },\n  created() {\n    this.user = this.$store.state.user;\n  },\n};\n</script>\n<style>\n</style>\n"]}]}